<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map with Pop-ups</title>
    <style>
    body {
    text-align: center;
    margin: 0;
}

.map-container {
    position: relative;
    display: block;
    width: 100vw;  /* Full width */
    max-width: 900px;  /* Limit size on larger screens */
    margin: 0 auto;  /* Center the map */
    overflow: hidden;  /* Prevent extra scroll */
}

#map-image {
    width: 100%;
    height: auto;  /* Maintain aspect ratio */
    display: block;
    margin: 0 auto;
    padding: 0;
}

.location {
    position: absolute;
    width: 8px;
    height: 8px;
    background-color: red;
    cursor: pointer;
    border-radius: 50%;
    border: 2px solid black;
    transition: transform 0.3s;
}

.location:hover {
    transform: scale(1.3);
}

.popup {
    display: none;
    position: absolute;
    background: rgba(173, 216, 230, 0.9);
    color: black;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
    width: 180px;  /* Default size */
    font-size: 12px;
    text-align: left;
    z-index: 1000;
    max-width: 90vw; /* Ensure popups don't overflow on smaller screens */
}

div {
  display: flex;
  justify-content: center;
  height: 800px;
}

img {
  width: 60%;
  height: 500px;
}    
    </style>
</head>
<body>
<div class="mobile-wrap">
    <div class="map-container">
        <img id="map-image" src="map.png" alt="Campus Map">
        <div class="location" data-x="30" data-y="53" onclick="showPopup(event, 'Student Projects')"></div>
        <div class="location" data-x="64" data-y="54.5" onclick="showPopup(event, 'IC')"></div>
        <div class="location" data-x="50" data-y="54.5" onclick="showPopup(event, 'MSME-1')"></div>
        <div class="location" data-x="71.5" data-y="51" onclick="showPopup(event, 'Freelance-Registered')"></div>
        <div class="location" data-x="78.5" data-y="48.75" onclick="showPopup(event, 'Freelance-Unregistered')"></div>
        <div class="location" data-x="84.75" data-y="46.5" onclick="showPopup(event, 'MSME-2')"></div>

        <div id="popup" class="popup"></div>
    </div>
</div>

    <script>
        function adjustLocations() {
    let mapImage = document.getElementById('map-image');
    let locations = document.querySelectorAll('.location');

    let imgWidth = mapImage.clientWidth;
    let imgHeight = mapImage.clientHeight;

    locations.forEach(loc => {
        let xPercent = loc.getAttribute('data-x');
        let yPercent = loc.getAttribute('data-y');

        loc.style.left = (imgWidth * xPercent / 100) + 'px';
        loc.style.top = (imgHeight * yPercent / 100) + 'px';
    });
}

window.onload = adjustLocations;
window.onresize = adjustLocations;

function showPopup(event, location) {
    const popup = document.getElementById('popup');
    const mapContainer = document.querySelector('.map-container');

    // Adjust for touch events (mobile)
    let x = event.clientX || event.touches?.[0]?.clientX;
    let y = event.clientY || event.touches?.[0]?.clientY;

    // Get map container position
    const rect = mapContainer.getBoundingClientRect();

    let popupX = x - rect.left + window.scrollX;
    let popupY = y - rect.top + window.scrollY;

    // Prevent popups from going offscreen
    if (popupX + popup.offsetWidth > window.innerWidth) {
        popupX = window.innerWidth - popup.offsetWidth - 10; // Adjust to fit within the viewport
    }
    if (popupY + popup.offsetHeight > window.innerHeight) {
        popupY = window.innerHeight - popup.offsetHeight - 10; // Adjust to fit within the viewport
    }

    popup.innerHTML = `<strong>${location}</strong><br>More details here.`;
    popup.style.left = `${popupX}px`;
    popup.style.top = `${popupY}px`;
    popup.style.display = 'block';
}
// Hide popup when clicking outside
document.addEventListener('click', function (event) {
    if (!event.target.classList.contains('location')) {
        document.getElementById('popup').style.display = 'none';
    }
});    </script>
</body>
</html>
